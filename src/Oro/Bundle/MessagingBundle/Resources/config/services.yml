services:
    oro_messaging.consumption.extensions:
        class: Oro\Component\Messaging\Consumption\Extensions
        arguments:
            - []

    oro_messaging.consumption.queue_consumer:
        class: Oro\Component\Messaging\Consumption\QueueConsumer
        arguments:
            - @oro_messaging.transport.session
            - @oro_messaging.consumption.extensions

    oro_messaging.command.consume_messages:
        class: Oro\Component\Messaging\Consumption\ConsumeMessagesCommand
        arguments:
            - @oro_messaging.consumption.queue_consumer
        tags:
            - { name: console.command }

