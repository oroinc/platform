services:
    oro_action.configuration.provider:
        class: Oro\Bundle\ActionBundle\Configuration\ConfigurationProvider
        public: false
        arguments:
            - '%kernel.cache_dir%/oro/actions.php'
            - '@oro_cache.config_cache_factory'
            - '@service_container'
            - '%kernel.bundles%'

    oro_action.configuration.cache.warmer.action_groups:
        class: Oro\Component\Config\Cache\ConfigCacheWarmer
        public: false
        arguments:
            - '@oro_action.configuration.provider'
        tags:
            # add the warmer for this System cache at the begin of the warmers chain
            # to prevent double warmup in case some Application cache depends on this cache
            - { name: kernel.cache_warmer, priority: 200 }

    oro_action.configuration.validator.action_group:
        class: Oro\Bundle\ActionBundle\Configuration\ActionGroupConfigurationValidator

    oro_action.configuration.validator.operations:
        class: Oro\Bundle\ActionBundle\Configuration\OperationConfigurationValidator
        arguments:
            - '@router'
            - '@twig.loader'
            - '@oro_entity.doctrine_helper'
            - '@logger'
            - '%kernel.debug%'

    oro_action.configuration.provider.operations:
        class: Oro\Bundle\ActionBundle\Configuration\SectionConfigurationProvider
        arguments:
            - '@oro_action.configuration.provider'
            - 'operations'

    oro_action.configuration.provider.action_groups:
        class: Oro\Bundle\ActionBundle\Configuration\SectionConfigurationProvider
        arguments:
            - '@oro_action.configuration.provider'
            - 'action_groups'

    oro_action.configuration_pass.replace_property_path:
        class: Oro\Component\ConfigExpression\ConfigurationPass\ReplacePropertyPath
        arguments:
            - "data"

    oro_action.config_extension.feature:
        class: Oro\Bundle\ActionBundle\Configuration\FeatureConfigurationExtension
        tags:
            - { name: oro_feature.config_extension }
