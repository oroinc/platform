services:

    #
    # initialize
    #

    oro_api.check_request_type:
        class: Oro\Bundle\ApiBundle\Processor\Shared\JsonApi\CheckRequestType
        tags:
            - { name: oro.api.processor, action: get, group: initialize, priority: 250 }
            - { name: oro.api.processor, action: get_list, group: initialize, priority: 250 }
            - { name: oro.api.processor, action: delete, group: initialize, priority: 250 }
            - { name: oro.api.processor, action: delete_list, group: initialize, priority: 250 }
            - { name: oro.api.processor, action: create, group: initialize, priority: 250 }
            - { name: oro.api.processor, action: update, group: initialize, priority: 250 }
            - { name: oro.api.processor, action: get_subresource, group: initialize, priority: 250 }
            - { name: oro.api.processor, action: delete_subresource, group: initialize, priority: 250 }
            - { name: oro.api.processor, action: add_subresource, group: initialize, priority: 250 }
            - { name: oro.api.processor, action: update_subresource, group: initialize, priority: 250 }
            - { name: oro.api.processor, action: get_relationship, group: initialize, priority: 250 }
            - { name: oro.api.processor, action: delete_relationship, group: initialize, priority: 250 }
            - { name: oro.api.processor, action: add_relationship, group: initialize, priority: 250 }
            - { name: oro.api.processor, action: update_relationship, group: initialize, priority: 250 }
            - { name: oro.api.processor, action: not_allowed, group: initialize, priority: 250 }
            - { name: oro.api.processor, action: options, group: initialize, priority: 250 }

    oro_api.validate_request_type_and_version:
        class: Oro\Bundle\ApiBundle\Processor\Shared\ValidateRequestTypeAndVersion
        tags:
            - { name: oro.api.processor, action: get, group: initialize, priority: 210 }
            - { name: oro.api.processor, action: get_list, group: initialize, priority: 210 }
            - { name: oro.api.processor, action: delete, group: initialize, priority: 210 }
            - { name: oro.api.processor, action: delete_list, group: initialize, priority: 210 }
            - { name: oro.api.processor, action: create, group: initialize, priority: 210 }
            - { name: oro.api.processor, action: update, group: initialize, priority: 210 }
            - { name: oro.api.processor, action: get_subresource, group: initialize, priority: 210 }
            - { name: oro.api.processor, action: delete_subresource, group: initialize, priority: 210 }
            - { name: oro.api.processor, action: add_subresource, group: initialize, priority: 210 }
            - { name: oro.api.processor, action: update_subresource, group: initialize, priority: 210 }
            - { name: oro.api.processor, action: get_relationship, group: initialize, priority: 210 }
            - { name: oro.api.processor, action: delete_relationship, group: initialize, priority: 210 }
            - { name: oro.api.processor, action: add_relationship, group: initialize, priority: 210 }
            - { name: oro.api.processor, action: update_relationship, group: initialize, priority: 210 }
            - { name: oro.api.processor, action: not_allowed, group: initialize, priority: 210 }
            - { name: oro.api.processor, action: options, group: initialize, priority: 210 }

    oro_api.normalize_include_header:
        class: Oro\Bundle\ApiBundle\Processor\Shared\NormalizeIncludeHeader
        tags:
            - { name: oro.api.processor, action: get, group: initialize, priority: 200 }
            - { name: oro.api.processor, action: get_list, group: initialize, priority: 200 }
            - { name: oro.api.processor, action: delete, group: initialize, priority: 200 }
            - { name: oro.api.processor, action: delete_list, group: initialize, priority: 200 }
            - { name: oro.api.processor, action: create, group: initialize, priority: 200 }
            - { name: oro.api.processor, action: update, group: initialize, priority: 200 }
            - { name: oro.api.processor, action: get_subresource, group: initialize, priority: 200 }
            - { name: oro.api.processor, action: delete_subresource, group: initialize, priority: 200 }
            - { name: oro.api.processor, action: add_subresource, group: initialize, priority: 200 }
            - { name: oro.api.processor, action: update_subresource, group: initialize, priority: 200 }
            - { name: oro.api.processor, action: get_relationship, group: initialize, priority: 200 }
            - { name: oro.api.processor, action: delete_relationship, group: initialize, priority: 200 }
            - { name: oro.api.processor, action: add_relationship, group: initialize, priority: 200 }
            - { name: oro.api.processor, action: update_relationship, group: initialize, priority: 200 }

    oro_api.check_no_hateoas_links:
        class: Oro\Bundle\ApiBundle\Processor\Shared\Rest\CheckNoHateoasLinks
        tags:
            - { name: oro.api.processor, action: get, group: initialize, requestType: rest, priority: 190 }
            - { name: oro.api.processor, action: get_list, group: initialize, requestType: rest, priority: 190 }
            - { name: oro.api.processor, action: delete, group: initialize, requestType: rest, priority: 190 }
            - { name: oro.api.processor, action: delete_list, group: initialize, requestType: rest, priority: 190 }
            - { name: oro.api.processor, action: create, group: initialize, requestType: rest, priority: 190 }
            - { name: oro.api.processor, action: update, group: initialize, requestType: rest, priority: 190 }
            - { name: oro.api.processor, action: get_subresource, group: initialize, requestType: rest, priority: 190 }
            - { name: oro.api.processor, action: delete_subresource, group: initialize, requestType: rest, priority: 190 }
            - { name: oro.api.processor, action: add_subresource, group: initialize, requestType: rest, priority: 190 }
            - { name: oro.api.processor, action: update_subresource, group: initialize, requestType: rest, priority: 190 }
            - { name: oro.api.processor, action: get_relationship, group: initialize, requestType: rest, priority: 190 }
            - { name: oro.api.processor, action: delete_relationship, group: initialize, requestType: rest, priority: 190 }
            - { name: oro.api.processor, action: add_relationship, group: initialize, requestType: rest, priority: 190 }
            - { name: oro.api.processor, action: update_relationship, group: initialize, requestType: rest, priority: 190 }

    oro_api.subresource.normalize_parent_entity_class:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\NormalizeParentEntityClass
        arguments:
            - '@oro_api.value_normalizer'
            - '@oro_api.resources_provider'
        tags:
            - { name: oro.api.processor, action: get_subresource, group: initialize, priority: 30 }
            - { name: oro.api.processor, action: delete_subresource, group: initialize, priority: 30 }
            - { name: oro.api.processor, action: add_subresource, group: initialize, priority: 30 }
            - { name: oro.api.processor, action: update_subresource, group: initialize, priority: 30 }
            - { name: oro.api.processor, action: get_relationship, group: initialize, priority: 30 }
            - { name: oro.api.processor, action: delete_relationship, group: initialize, priority: 30 }
            - { name: oro.api.processor, action: add_relationship, group: initialize, priority: 30 }
            - { name: oro.api.processor, action: update_relationship, group: initialize, priority: 30 }
            - { name: oro.api.processor, action: not_allowed, group: initialize, actionType: relationship|subresource, priority: 30 }
            - { name: oro.api.processor, action: options, group: initialize, actionType: relationship|subresource, priority: 30 }

    oro_api.normalize_entity_class:
        class: Oro\Bundle\ApiBundle\Processor\Shared\NormalizeEntityClass
        arguments:
            - '@oro_api.value_normalizer'
            - '@oro_api.resources_provider'
        tags:
            - { name: oro.api.processor, action: get, group: initialize, priority: 20 }
            - { name: oro.api.processor, action: get_list, group: initialize, priority: 20 }
            - { name: oro.api.processor, action: delete, group: initialize, priority: 20 }
            - { name: oro.api.processor, action: delete_list, group: initialize, priority: 20 }
            - { name: oro.api.processor, action: create, group: initialize, priority: 20 }
            - { name: oro.api.processor, action: update, group: initialize, priority: 20 }
            - { name: oro.api.processor, action: not_allowed, group: initialize, actionType: list|item, priority: 30 }
            - { name: oro.api.processor, action: options, group: initialize, actionType: list|item, priority: 30 }

    oro_api.subresource.recognize_association_type:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\RecognizeAssociationType
        arguments:
            - '@oro_api.subresources_provider'
        tags:
            - { name: oro.api.processor, action: get_subresource, group: initialize, priority: 20 }
            - { name: oro.api.processor, action: delete_subresource, group: initialize, priority: 20 }
            - { name: oro.api.processor, action: add_subresource, group: initialize, priority: 20 }
            - { name: oro.api.processor, action: update_subresource, group: initialize, priority: 20 }
            - { name: oro.api.processor, action: get_relationship, group: initialize, priority: 20 }
            - { name: oro.api.processor, action: delete_relationship, group: initialize, priority: 20 }
            - { name: oro.api.processor, action: add_relationship, group: initialize, priority: 20 }
            - { name: oro.api.processor, action: update_relationship, group: initialize, priority: 20 }
            - { name: oro.api.processor, action: not_allowed, group: initialize, actionType: relationship|subresource, priority: 20 }
            - { name: oro.api.processor, action: options, group: initialize, actionType: relationship|subresource, priority: 20 }

    oro_api.subresource.validate_is_collection:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\ValidateIsCollection
        tags:
            - { name: oro.api.processor, action: delete_relationship, group: initialize, priority: 18 }
            - { name: oro.api.processor, action: add_relationship, group: initialize, priority: 18 }

    oro_api.set_default_max_related_entities:
        class: Oro\Bundle\ApiBundle\Processor\Shared\SetDefaultMaxRelatedEntities
        tags:
            - { name: oro.api.processor, action: get, group: initialize, priority: -10 }
            - { name: oro.api.processor, action: get_list, group: initialize, priority: -10 }
            - { name: oro.api.processor, action: get_subresource, group: initialize, collection: true, priority: -10 }
            - { name: oro.api.processor, action: get_relationship, group: initialize, collection: true, priority: -10 }

    oro_api.handle_include_filter:
        class: Oro\Bundle\ApiBundle\Processor\Shared\HandleIncludeFilter
        arguments:
            - '@oro_api.filter_names_registry'
            - '@oro_api.value_normalizer'
        tags:
            - { name: oro.api.processor, action: get, group: initialize, priority: -20 }
            - { name: oro.api.processor, action: get_list, group: initialize, priority: -20 }
            - { name: oro.api.processor, action: get_subresource, group: initialize, priority: -20 }

    oro_api.handle_fields_filter:
        class: Oro\Bundle\ApiBundle\Processor\Shared\HandleFieldsFilter
        arguments:
            - '@oro_api.filter_names_registry'
            - '@oro_api.value_normalizer'
        tags:
            - { name: oro.api.processor, action: get, group: initialize, priority: -20 }
            - { name: oro.api.processor, action: get_list, group: initialize, priority: -20 }
            - { name: oro.api.processor, action: get_subresource, group: initialize, priority: -20 }

    oro_api.handle_meta_property_filter:
        class: Oro\Bundle\ApiBundle\Processor\Shared\HandleMetaPropertyFilter
        arguments:
            - '@oro_api.filter_names_registry'
            - '@oro_api.value_normalizer'
        tags:
            - { name: oro.api.processor, action: get, group: initialize, priority: -20 }
            - { name: oro.api.processor, action: get_list, group: initialize, priority: -20 }
            - { name: oro.api.processor, action: get_subresource, group: initialize, priority: -20 }

    oro_api.register_configured_filters:
        class: Oro\Bundle\ApiBundle\Processor\Shared\RegisterConfiguredFilters
        arguments:
            - '@oro_api.filter_factory'
            - '@oro_api.doctrine_helper'
        tags:
            - { name: oro.api.processor, action: get_list, group: initialize, priority: -50 }
            - { name: oro.api.processor, action: delete_list, group: initialize, priority: -50 }
            - { name: oro.api.processor, action: get_subresource, group: initialize, collection: true, priority: -50 }
            - { name: oro.api.processor, action: get_relationship, group: initialize, collection: true, priority: -50 }

    oro_api.json_api.normalize_id_filter_key:
        class: Oro\Bundle\ApiBundle\Processor\Shared\JsonApi\NormalizeIdFilterKey
        arguments:
            - '@oro_api.doctrine_helper'
        tags:
            - { name: oro.api.processor, action: get_list, group: initialize, requestType: json_api, priority: -55 }
            - { name: oro.api.processor, action: delete_list, group: initialize, requestType: json_api, priority: -55 }
            - { name: oro.api.processor, action: get_subresource, group: initialize, collection: true, requestType: json_api, priority: -55 }
            - { name: oro.api.processor, action: get_relationship, group: initialize, collection: true, requestType: json_api, priority: -55 }

    oro_api.register_dynamic_filters:
        class: Oro\Bundle\ApiBundle\Processor\Shared\RegisterDynamicFilters
        arguments:
            - '@oro_api.filter_factory'
            - '@oro_api.doctrine_helper'
            - '@oro_api.config_provider'
            - '@oro_api.filter_names_registry'
        tags:
            - { name: oro.api.processor, action: get, group: initialize, priority: -60 }
            - { name: oro.api.processor, action: get_list, group: initialize, priority: -60 }
            - { name: oro.api.processor, action: delete_list, group: initialize, priority: -60 }
            - { name: oro.api.processor, action: get_subresource, group: initialize, collection: true, priority: -60 }
            - { name: oro.api.processor, action: get_relationship, group: initialize, collection: true, priority: -60 }

    oro_api.json_api.set_default_sorting:
        class: Oro\Bundle\ApiBundle\Processor\Shared\JsonApi\SetDefaultSorting
        arguments:
            - '@oro_api.filter_names_registry'
        tags:
            - { name: oro.api.processor, action: get_list, group: initialize, requestType: json_api, priority: -95 }
            - { name: oro.api.processor, action: get_subresource, group: initialize, collection: true, requestType: json_api, priority: -95 }
            - { name: oro.api.processor, action: get_relationship, group: initialize, collection: true, requestType: json_api, priority: -95 }

    oro_api.set_default_sorting:
        class: Oro\Bundle\ApiBundle\Processor\Shared\SetDefaultSorting
        arguments:
            - '@oro_api.filter_names_registry'
        tags:
            - { name: oro.api.processor, action: get_list, group: initialize, requestType: '!json_api', priority: -100 }
            - { name: oro.api.processor, action: get_subresource, group: initialize, collection: true, requestType: '!json_api', priority: -100 }
            - { name: oro.api.processor, action: get_relationship, group: initialize, collection: true, requestType: '!json_api', priority: -100 }

    oro_api.set_default_paging:
        class: Oro\Bundle\ApiBundle\Processor\Shared\SetDefaultPaging
        arguments:
            - '@oro_api.filter_names_registry'
        tags:
            - { name: oro.api.processor, action: get_list, group: initialize, priority: -100 }
            - { name: oro.api.processor, action: get_subresource, group: initialize, collection: true, priority: -100 }
            - { name: oro.api.processor, action: get_relationship, group: initialize, collection: true, priority: -100 }

    oro_api.add_include_filter:
        class: Oro\Bundle\ApiBundle\Processor\Shared\AddIncludeFilter
        arguments:
            - '@oro_api.filter_names_registry'
        tags:
            - { name: oro.api.processor, action: get, group: initialize, priority: -200 }
            - { name: oro.api.processor, action: get_list, group: initialize, priority: -200 }
            - { name: oro.api.processor, action: get_subresource, group: initialize, priority: -200 }

    oro_api.add_fields_filter:
        class: Oro\Bundle\ApiBundle\Processor\Shared\AddFieldsFilter
        arguments:
            - '@oro_api.filter_names_registry'
            - '@oro_api.value_normalizer'
        tags:
            - { name: oro.api.processor, action: get, group: initialize, priority: -200 }
            - { name: oro.api.processor, action: get_list, group: initialize, priority: -200 }
            - { name: oro.api.processor, action: get_subresource, group: initialize, priority: -200 }

    oro_api.add_meta_property_filter:
        class: Oro\Bundle\ApiBundle\Processor\Shared\AddMetaPropertyFilter
        arguments:
            - '@oro_api.filter_names_registry'
        tags:
            - { name: oro.api.processor, action: get, group: initialize, priority: -200 }
            - { name: oro.api.processor, action: get_list, group: initialize, priority: -200 }
            - { name: oro.api.processor, action: get_subresource, group: initialize, priority: -200 }

    #
    # resource_check
    #

    oro_api.resource_availability_check:
        class: Oro\Bundle\ApiBundle\Processor\Shared\ActionAvailabilityCheck
        arguments:
            - '@oro_api.resources_provider'
        tags:
            - { name: oro.api.processor, action: get, group: resource_check, priority: 20 }
            - { name: oro.api.processor, action: get_list, group: resource_check, priority: 20 }
            - { name: oro.api.processor, action: delete, group: resource_check, priority: 20 }
            - { name: oro.api.processor, action: delete_list, group: resource_check, priority: 20 }
            - { name: oro.api.processor, action: create, group: resource_check, priority: 20 }
            - { name: oro.api.processor, action: update, group: resource_check, priority: 20 }
            - { name: oro.api.processor, action: options, group: resource_check, actionType: list|item, priority: 20 }

    oro_api.subresource.parent_resource_availability_check:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\ParentActionAvailabilityCheck
        arguments:
            - '@oro_api.resources_provider'
        tags:
            - { name: oro.api.processor, action: get_subresource, group: resource_check, priority: 20 }
            - { name: oro.api.processor, action: delete_subresource, group: resource_check, priority: 20 }
            - { name: oro.api.processor, action: add_subresource, group: resource_check, priority: 20 }
            - { name: oro.api.processor, action: update_subresource, group: resource_check, priority: 20 }
            - { name: oro.api.processor, action: get_relationship, group: resource_check, priority: 20 }
            - { name: oro.api.processor, action: delete_relationship, group: resource_check, priority: 20 }
            - { name: oro.api.processor, action: add_relationship, group: resource_check, priority: 20 }
            - { name: oro.api.processor, action: update_relationship, group: resource_check, priority: 20 }
            - { name: oro.api.processor, action: options, group: resource_check, actionType: relationship|subresource, priority: 20 }

    oro_api.entity_type_feature_check:
        class: Oro\Bundle\ApiBundle\Processor\Shared\EntityTypeFeatureCheck
        arguments:
            - '@oro_featuretoggle.checker.feature_checker'
        tags:
            - { name: oro.api.processor, action: get, group: resource_check, priority: 10 }
            - { name: oro.api.processor, action: get_list, group: resource_check, priority: 10 }
            - { name: oro.api.processor, action: delete, group: resource_check, priority: 10 }
            - { name: oro.api.processor, action: delete_list, group: resource_check, priority: 10 }
            - { name: oro.api.processor, action: create, group: resource_check, priority: 10 }
            - { name: oro.api.processor, action: update, group: resource_check, priority: 10 }
            - { name: oro.api.processor, action: options, group: resource_check, actionType: list|item, priority: 10 }

    oro_api.subresource.parent_entity_type_feature_check:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\ParentEntityTypeFeatureCheck
        arguments:
            - '@oro_featuretoggle.checker.feature_checker'
        tags:
            - { name: oro.api.processor, action: get_subresource, group: resource_check, priority: 10 }
            - { name: oro.api.processor, action: delete_subresource, group: resource_check, priority: 10 }
            - { name: oro.api.processor, action: add_subresource, group: resource_check, priority: 10 }
            - { name: oro.api.processor, action: update_subresource, group: resource_check, priority: 10 }
            - { name: oro.api.processor, action: get_relationship, group: resource_check, priority: 10 }
            - { name: oro.api.processor, action: delete_relationship, group: resource_check, priority: 10 }
            - { name: oro.api.processor, action: add_relationship, group: resource_check, priority: 10 }
            - { name: oro.api.processor, action: update_relationship, group: resource_check, priority: 10 }
            - { name: oro.api.processor, action: options, group: resource_check, actionType: relationship|subresource, priority: 10 }

    #
    # normalize_input
    #

    oro_api.subresource.validate_parent_entity_id_exists:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\ValidateParentEntityIdExists
        tags:
            - { name: oro.api.processor, action: get_subresource, group: normalize_input, priority: 210 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_input, priority: 210 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_input, priority: 210 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_input, priority: 210 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_input, priority: 210 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_input, priority: 210 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_input, priority: 210 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_input, priority: 210 }

    oro_api.subresource.normalize_parent_entity_id:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\NormalizeParentEntityId
        arguments:
            - '@oro_api.entity_id_transformer_registry'
        tags:
            - { name: oro.api.processor, action: get_subresource, group: normalize_input, priority: 200 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_input, priority: 200 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_input, priority: 200 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_input, priority: 200 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_input, priority: 200 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_input, priority: 200 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_input, priority: 200 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_input, priority: 200 }
            - { name: oro.api.processor, action: options, group: resource_check, actionType: relationship|subresource, priority: -100 }

    oro_api.validate_request_data_exist:
        class: Oro\Bundle\ApiBundle\Processor\Shared\ValidateRequestDataExist
        tags:
            - { name: oro.api.processor, action: create, group: normalize_input, priority: 100 }
            - { name: oro.api.processor, action: update, group: normalize_input, priority: 100 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_input, priority: 100 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_input, priority: 100 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_input, priority: 100 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_input, priority: 100 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_input, priority: 100 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_input, priority: 100 }

    oro_api.normalize_filter_values:
        class: Oro\Bundle\ApiBundle\Processor\Shared\NormalizeFilterValues
        arguments:
            - '@oro_api.value_normalizer'
            - '@oro_api.entity_id_transformer_registry'
        tags:
            - { name: oro.api.processor, action: get, group: normalize_input, priority: 100 }
            - { name: oro.api.processor, action: get_list, group: normalize_input, priority: 100 }
            - { name: oro.api.processor, action: delete_list, group: normalize_input, priority: 100 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_input, collection: true, priority: 100 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_input, collection: true, priority: 100 }

    oro_api.json_api.correct_sort_value:
        class: Oro\Bundle\ApiBundle\Processor\Shared\JsonApi\CorrectSortValue
        arguments:
            - '@oro_api.doctrine_helper'
            - '@oro_api.value_normalizer'
            - '@oro_api.filter_names_registry'
        tags:
            - { name: oro.api.processor, action: get_list, group: normalize_input, requestType: json_api, priority: 90 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_input, collection: true, requestType: json_api, priority: 90 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_input, collection: true, requestType: json_api, priority: 90 }

    oro_api.subresource.json_api.validate_request_data:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\JsonApi\ValidateRequestData
        tags:
            - { name: oro.api.processor, action: delete_relationship, group: normalize_input, requestType: json_api, priority: 90 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_input, requestType: json_api, priority: 90 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_input, requestType: json_api, priority: 90 }

    oro_api.json_api.validate_included_data_dependencies:
        class: Oro\Bundle\ApiBundle\Processor\Shared\JsonApi\ValidateIncludedDataDependencies
        tags:
            - { name: oro.api.processor, action: create, group: normalize_input, requestType: json_api, priority: -25 }
            - { name: oro.api.processor, action: update, group: normalize_input, requestType: json_api, priority: -25 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_input, requestType: json_api, priority: -25 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_input, requestType: json_api, priority: -25 }

    oro_api.json_api.normalize_included_data:
        class: Oro\Bundle\ApiBundle\Processor\Shared\JsonApi\NormalizeIncludedData
        arguments:
            - '@oro_api.doctrine_helper'
            - '@oro_api.entity_instantiator'
            - '@oro_api.entity_loader'
            - '@oro_api.value_normalizer'
            - '@oro_api.entity_id_transformer_registry'
            - '@oro_api.config_provider'
            - '@oro_api.metadata_provider'
        tags:
            - { name: oro.api.processor, action: create, group: normalize_input, requestType: json_api, priority: -45 }
            - { name: oro.api.processor, action: update, group: normalize_input, requestType: json_api, priority: -45 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_input, requestType: json_api, priority: -45 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_input, requestType: json_api, priority: -45 }

    oro_api.rest.normalize_request_data:
        class: Oro\Bundle\ApiBundle\Processor\Shared\Rest\NormalizeRequestData
        arguments:
            - '@oro_api.entity_id_transformer_registry'
        tags:
            - { name: oro.api.processor, action: create, group: normalize_input, requestType: rest&!json_api, priority: -50 }
            - { name: oro.api.processor, action: update, group: normalize_input, requestType: rest&!json_api, priority: -50 }

    oro_api.json_api.normalize_request_data:
        class: Oro\Bundle\ApiBundle\Processor\Shared\JsonApi\NormalizeRequestData
        arguments:
            - '@oro_api.value_normalizer'
            - '@oro_api.entity_id_transformer_registry'
            - '@oro_api.config_provider'
            - '@oro_api.metadata_provider'
        tags:
            - { name: oro.api.processor, action: create, group: normalize_input, requestType: json_api, priority: -50 }
            - { name: oro.api.processor, action: update, group: normalize_input, requestType: json_api, priority: -50 }

    oro_api.subresource.rest.normalize_request_data:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\Rest\NormalizeRequestData
        arguments:
            - '@oro_api.entity_id_transformer_registry'
        tags:
            - { name: oro.api.processor, action: delete_relationship, group: normalize_input, requestType: rest&!json_api, priority: -50 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_input, requestType: rest&!json_api, priority: -50 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_input, requestType: rest&!json_api, priority: -50 }

    oro_api.subresource.json_api.normalize_request_data:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\JsonApi\NormalizeRequestData
        arguments:
            - '@oro_api.value_normalizer'
            - '@oro_api.entity_id_transformer_registry'
        tags:
            - { name: oro.api.processor, action: delete_relationship, group: normalize_input, requestType: json_api, priority: -50 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_input, requestType: json_api, priority: -50 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_input, requestType: json_api, priority: -50 }

    oro_api.validate_sorting:
        class: Oro\Bundle\ApiBundle\Processor\Shared\ValidateSorting
        arguments:
            - '@oro_api.doctrine_helper'
            - '@oro_api.config_provider'
            - '@oro_api.filter_names_registry'
        tags:
            - { name: oro.api.processor, action: get_list, group: normalize_input, priority: -100 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_input, collection: true, priority: -100 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_input, collection: true, priority: -100 }

    oro_api.validate_entity_id_exists:
        class: Oro\Bundle\ApiBundle\Processor\Shared\ValidateEntityIdExists
        tags:
            - { name: oro.api.processor, action: get, group: normalize_input, priority: -100 }
            - { name: oro.api.processor, action: delete, group: normalize_input, priority: -100 }
            - { name: oro.api.processor, action: update, group: normalize_input, priority: -100 }

    oro_api.normalize_entity_id:
        class: Oro\Bundle\ApiBundle\Processor\Shared\NormalizeEntityId
        arguments:
            - '@oro_api.entity_id_transformer_registry'
        tags:
            - { name: oro.api.processor, action: get, group: normalize_input, priority: -110 }
            - { name: oro.api.processor, action: delete, group: normalize_input, priority: -110 }
            - { name: oro.api.processor, action: update, group: normalize_input, priority: -110 }
            - { name: oro.api.processor, action: options, group: resource_check, actionType: item, priority: -110 }

    #
    # security_check (primary resource)
    #

    oro_api.get.entity_type_security_check:
        class: Oro\Bundle\ApiBundle\Processor\Shared\EntityTypeSecurityCheck
        arguments:
            - '@oro_api.security.authorization_checker'
            - VIEW
        tags:
            - { name: oro.api.processor, action: get, group: security_check, priority: 10 }
            - { name: oro.api.processor, action: get_list, group: security_check, priority: 10 }

    oro_api.delete.entity_type_security_check:
        class: Oro\Bundle\ApiBundle\Processor\Shared\EntityTypeSecurityCheck
        arguments:
            - '@oro_api.security.authorization_checker'
            - DELETE
        tags:
            - { name: oro.api.processor, action: delete, group: security_check, priority: 10 }
            - { name: oro.api.processor, action: delete_list, group: security_check, priority: 10 }

    # VIEW permissions are required to create or update an entity because the newly created or updated entity
    # should be returned in the response
    # the "security_check" group is disabled for the "get" action is executed by
    # the "oro_api.create.load_normalized_entity" and "oro_api.update.load_normalized_entity" processors
    # so, if you add own security processor for the "get" action, add it for "create" and "update" actions as well
    oro_api.entity_type_security_check.view:
        class: Oro\Bundle\ApiBundle\Processor\Shared\EntityTypeSecurityCheck
        arguments:
            - '@oro_api.security.authorization_checker'
            - VIEW
            - true
        tags:
            - { name: oro.api.processor, action: create, group: security_check, priority: 5 }
            - { name: oro.api.processor, action: update, group: security_check, priority: 5 }

    #
    # security_check (subresources)
    #

    oro_api.subresource.parent_entity_type_security_check:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\ParentEntityTypeSecurityCheck
        arguments:
            - '@oro_api.security.authorization_checker'
            - VIEW
        tags:
            - { name: oro.api.processor, action: get_relationship, group: security_check, priority: 10 }
            - { name: oro.api.processor, action: get_subresource, group: security_check, priority: 10 }

    oro_api.subresource.parent_entity_type_security_check.edit:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\ParentEntityTypeSecurityCheck
        arguments:
            - '@oro_api.security.authorization_checker'
            - EDIT
        tags:
            - { name: oro.api.processor, action: delete_subresource, group: security_check, priority: 10 }
            - { name: oro.api.processor, action: add_subresource, group: security_check, priority: 10 }
            - { name: oro.api.processor, action: update_subresource, group: security_check, priority: 10 }
            - { name: oro.api.processor, action: delete_relationship, group: security_check, priority: 10 }
            - { name: oro.api.processor, action: add_relationship, group: security_check, priority: 10 }
            - { name: oro.api.processor, action: update_relationship, group: security_check, priority: 10 }

    # VIEW permissions for the parent entity are required because the response may contains the updated relationship
    oro_api.subresource.parent_entity_type_security_check.view:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\ParentEntityTypeSecurityCheck
        arguments:
            - '@oro_api.security.authorization_checker'
            - VIEW
            - true
        tags:
            - { name: oro.api.processor, action: delete_subresource, group: security_check, priority: 5 }
            - { name: oro.api.processor, action: add_subresource, group: security_check, priority: 5 }
            - { name: oro.api.processor, action: update_subresource, group: security_check, priority: 5 }
            - { name: oro.api.processor, action: delete_relationship, group: security_check, priority: 5 }
            - { name: oro.api.processor, action: add_relationship, group: security_check, priority: 5 }
            - { name: oro.api.processor, action: update_relationship, group: security_check, priority: 5 }

    #
    # build_query
    #

    oro_api.initialize_criteria:
        class: Oro\Bundle\ApiBundle\Processor\Shared\InitializeCriteria
        arguments:
            - '@oro_api.doctrine_helper'
            - '@oro_entity.orm.entity_class_resolver'
        tags:
            - { name: oro.api.processor, action: get, group: build_query, priority: 100 }
            - { name: oro.api.processor, action: get_list, group: build_query, priority: 100 }
            - { name: oro.api.processor, action: delete_list, group: build_query, priority: 100 }
            - { name: oro.api.processor, action: get_subresource, group: build_query, priority: 100 }
            - { name: oro.api.processor, action: get_relationship, group: build_query, priority: 100 }

    oro_api.build_criteria:
        class: Oro\Bundle\ApiBundle\Processor\Shared\BuildCriteria
        tags:
            - { name: oro.api.processor, action: get_list, group: build_query, priority: 50 }
            - { name: oro.api.processor, action: delete_list, group: build_query, priority: 50 }
            - { name: oro.api.processor, action: get_subresource, group: build_query, collection: true, priority: 50 }
            - { name: oro.api.processor, action: get_relationship, group: build_query, collection: true, priority: 50 }

    oro_api.normalize_paging:
        class: Oro\Bundle\ApiBundle\Processor\Shared\NormalizePaging
        tags:
            - { name: oro.api.processor, action: get_list, group: build_query, priority: -70 }
            - { name: oro.api.processor, action: delete_list, group: build_query, priority: -70 }
            - { name: oro.api.processor, action: get_subresource, group: build_query, collection: true, priority: -70 }
            - { name: oro.api.processor, action: get_relationship, group: build_query, collection: true, priority: -70 }

    oro_api.build_query:
        class: Oro\Bundle\ApiBundle\Processor\Shared\BuildQuery
        arguments:
            - '@oro_api.doctrine_helper'
            - '@oro_api.criteria_connector'
        tags:
            - { name: oro.api.processor, action: get_list, group: build_query, priority: -100 }
            - { name: oro.api.processor, action: delete_list, group: build_query, priority: -100 }
            - { name: oro.api.processor, action: get_subresource, group: build_query, priority: -100 }
            - { name: oro.api.processor, action: get_relationship, group: build_query, priority: -100 }

    oro_api.build_query.single:
        class: Oro\Bundle\ApiBundle\Processor\Shared\BuildSingleItemQuery
        arguments:
            - '@oro_api.doctrine_helper'
            - '@oro_api.criteria_connector'
            - '@oro_api.entity_id_helper'
        tags:
            - { name: oro.api.processor, action: get, group: build_query, priority: -100 }

    oro_api.subresource.add_parent_entity_id_to_query:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\AddParentEntityIdToQuery
        arguments:
            - '@oro_api.doctrine_helper'
        tags:
            - { name: oro.api.processor, action: get_subresource, group: build_query, priority: -150 }
            - { name: oro.api.processor, action: get_relationship, group: build_query, priority: -150 }

    #
    # load_data
    #

    oro_api.initialize_entity_mapper:
        class: Oro\Bundle\ApiBundle\Processor\Shared\InitializeEntityMapper
        arguments:
            - '@oro_api.doctrine_helper'
            - '@oro_api.entity_instantiator'
            - '@oro_api.entity_override_provider_registry'
        tags:
            - { name: oro.api.processor, action: create, group: load_data, priority: 250 }
            - { name: oro.api.processor, action: update, group: load_data, priority: 250 }

    oro_api.subresource.initialize_entity_mapper:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\InitializeEntityMapper
        arguments:
            - '@oro_api.doctrine_helper'
            - '@oro_api.entity_instantiator'
            - '@oro_api.entity_override_provider_registry'
        tags:
            - { name: oro.api.processor, action: delete_relationship, group: load_data, priority: 250 }
            - { name: oro.api.processor, action: add_relationship, group: load_data, priority: 250 }
            - { name: oro.api.processor, action: update_relationship, group: load_data, priority: 250 }

    oro_api.load_entity_by_entity_serializer:
        class: Oro\Bundle\ApiBundle\Processor\Shared\LoadEntityByEntitySerializer
        arguments:
            - '@oro_api.entity_serializer'
        tags:
            - { name: oro.api.processor, action: get, group: load_data, priority: -10 }
            - { name: oro.api.processor, action: get_subresource, group: load_data, collection: false, priority: -10 }
            - { name: oro.api.processor, action: get_relationship, group: load_data, collection: false, priority: -10 }

    oro_api.load_entities_by_entity_serializer:
        class: Oro\Bundle\ApiBundle\Processor\Shared\LoadEntitiesByEntitySerializer
        arguments:
            - '@oro_api.entity_serializer'
        tags:
            - { name: oro.api.processor, action: get_list, group: load_data, priority: -10 }
            - { name: oro.api.processor, action: get_subresource, group: load_data, collection: true, priority: -10 }
            - { name: oro.api.processor, action: get_relationship, group: load_data, collection: true, priority: -10 }

    oro_api.load_entity:
        class: Oro\Bundle\ApiBundle\Processor\Shared\LoadEntity
        arguments:
            - '@oro_api.doctrine_helper'
            - '@oro_api.entity_loader'
        tags:
            - { name: oro.api.processor, action: delete, group: load_data, priority: -10 }
            - { name: oro.api.processor, action: update, group: load_data, priority: -10 }

    oro_api.subresource.load_parent_entity:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\LoadParentEntity
        arguments:
            - '@oro_api.doctrine_helper'
            - '@oro_api.entity_loader'
        tags:
            - { name: oro.api.processor, action: delete_subresource, group: load_data, priority: -10 }
            - { name: oro.api.processor, action: add_subresource, group: load_data, priority: -10 }
            - { name: oro.api.processor, action: update_subresource, group: load_data, priority: -10 }
            - { name: oro.api.processor, action: delete_relationship, group: load_data, priority: -10 }
            - { name: oro.api.processor, action: add_relationship, group: load_data, priority: -10 }
            - { name: oro.api.processor, action: update_relationship, group: load_data, priority: -10 }

    oro_api.convert_entity_to_model:
        class: Oro\Bundle\ApiBundle\Processor\Shared\ConvertEntityToModel
        tags:
            - { name: oro.api.processor, action: create, group: load_data, priority: -25 }
            - { name: oro.api.processor, action: update, group: load_data, priority: -25 }

    oro_api.subresource.convert_parent_entity_to_model:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\ConvertParentEntityToModel
        tags:
            - { name: oro.api.processor, action: delete_relationship, group: load_data, priority: -10 }
            - { name: oro.api.processor, action: add_relationship, group: load_data, priority: -10 }
            - { name: oro.api.processor, action: update_relationship, group: load_data, priority: -10 }

    oro_api.validate_entity_exists:
        class: Oro\Bundle\ApiBundle\Processor\Shared\ValidateEntityExists
        tags:
            - { name: oro.api.processor, action: update, group: load_data, priority: -30 }
            - { name: oro.api.processor, action: delete, group: load_data, priority: -30 }

    oro_api.set_primary_entity:
        class: Oro\Bundle\ApiBundle\Processor\Shared\SetPrimaryEntity
        tags:
            - { name: oro.api.processor, action: create, group: load_data, priority: -50 }
            - { name: oro.api.processor, action: update, group: load_data, priority: -50 }

    oro_api.subresource.validate_parent_entity_exists:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\ValidateParentEntityExists
        tags:
            - { name: oro.api.processor, action: delete_subresource, group: load_data, priority: -50 }
            - { name: oro.api.processor, action: add_subresource, group: load_data, priority: -50 }
            - { name: oro.api.processor, action: update_subresource, group: load_data, priority: -50 }
            - { name: oro.api.processor, action: delete_relationship, group: load_data, priority: -50 }
            - { name: oro.api.processor, action: add_relationship, group: load_data, priority: -50 }
            - { name: oro.api.processor, action: update_relationship, group: load_data, priority: -50 }

    oro_api.remove_info_records_for_entity:
        class: Oro\Bundle\ApiBundle\Processor\Shared\RemoveInfoRecordsForSingleItem
        tags:
            - { name: oro.api.processor, action: get, group: load_data, hateoas: true, priority: -200 }
            - { name: oro.api.processor, action: get_subresource, group: load_data, collection: false, hateoas: true, priority: -200 }

    oro_api.remove_info_records_for_entities:
        class: Oro\Bundle\ApiBundle\Processor\Shared\RemoveInfoRecordsForCollection
        tags:
            - { name: oro.api.processor, action: get_list, group: load_data, hateoas: true, priority: -200 }
            - { name: oro.api.processor, action: get_subresource, group: load_data, collection: true, hateoas: true, priority: -200 }
            - { name: oro.api.processor, action: get_relationship, group: load_data, collection: true, hateoas: true, priority: -200 }

    oro_api.add_page_number_to_info_record:
        class: Oro\Bundle\ApiBundle\Processor\Shared\AddPageNumberToInfoRecord
        arguments:
            - '@oro_api.filter_names_registry'
        tags:
            - { name: oro.api.processor, action: get_list, group: load_data, requestType: rest&json_api, hateoas: true, priority: -205 }
            - { name: oro.api.processor, action: get_subresource, group: load_data, collection: true, requestType: rest&json_api, hateoas: true, priority: -205 }
            - { name: oro.api.processor, action: get_relationship, group: load_data, collection: true, requestType: rest&json_api, hateoas: true, priority: -205 }

    #
    # data_security_check
    #

    oro_api.subresource.parent_entity_object_security_check:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\ParentEntityObjectSecurityCheck
        arguments:
            - '@oro_api.security.authorization_checker'
            - EDIT
        tags:
            - { name: oro.api.processor, action: delete_subresource, group: data_security_check, priority: 10 }
            - { name: oro.api.processor, action: add_subresource, group: data_security_check, priority: 10 }
            - { name: oro.api.processor, action: update_subresource, group: data_security_check, priority: 10 }
            - { name: oro.api.processor, action: delete_relationship, group: data_security_check, priority: 10 }
            - { name: oro.api.processor, action: add_relationship, group: data_security_check, priority: 10 }
            - { name: oro.api.processor, action: update_relationship, group: data_security_check, priority: 10 }

    #
    # normalize_data
    #

    oro_api.initialize_entity_proxy:
        class: Oro\Bundle\ApiBundle\Processor\Get\InitializeEntityProxy
        tags:
            - { name: oro.api.processor, action: get, group: normalize_data, priority: 10 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_data, collection: false, priority: 10 }

    oro_api.initialize_entities_proxy:
        class: Oro\Bundle\ApiBundle\Processor\GetList\InitializeEntityProxy
        tags:
            - { name: oro.api.processor, action: get_list, group: normalize_data, priority: 10 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_data, collection: true, priority: 10 }

    oro_api.normalize_entity:
        class: Oro\Bundle\ApiBundle\Processor\Shared\NormalizeEntity
        arguments:
            - '@oro_api.object_normalizer'
        tags:
            - { name: oro.api.processor, action: get, group: normalize_data, priority: -10 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_data, collection: false, priority: -10 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_data, collection: false, priority: -10 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_data, collection: false, priority: -10 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_data, collection: false, priority: -10 }

    oro_api.normalize_entities:
        class: Oro\Bundle\ApiBundle\Processor\Shared\NormalizeEntities
        arguments:
            - '@oro_api.object_normalizer'
        tags:
            - { name: oro.api.processor, action: get_list, group: normalize_data, priority: -10 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_data, collection: true, priority: -10 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_data, collection: true, priority: -10 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_data, collection: true, priority: -10 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_data, collection: true, priority: -10 }

    #
    # transform_data
    #

    oro_api.initialize_api_form_extension:
        class: Oro\Bundle\ApiBundle\Processor\Shared\InitializeApiFormExtension
        arguments:
            - '@form.registry'
            - '@oro_api.form.guesser.metadata'
        tags:
            - { name: oro.api.processor, action: create, group: transform_data, priority: 250 }
            - { name: oro.api.processor, action: update, group: transform_data, priority: 250 }
            - { name: oro.api.processor, action: delete_subresource, group: transform_data, priority: 250 }
            - { name: oro.api.processor, action: add_subresource, group: transform_data, priority: 250 }
            - { name: oro.api.processor, action: update_subresource, group: transform_data, priority: 250 }

    oro_api.subresource.initialize_api_form_extension:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\InitializeApiFormExtension
        arguments:
            - '@form.registry'
            - '@oro_api.form.guesser.metadata'
        tags:
            - { name: oro.api.processor, action: delete_relationship, group: transform_data, priority: 250 }
            - { name: oro.api.processor, action: add_relationship, group: transform_data, priority: 250 }
            - { name: oro.api.processor, action: update_relationship, group: transform_data, priority: 250 }

    oro_api.json_api.process_included_entities:
        class: Oro\Bundle\ApiBundle\Processor\Shared\JsonApi\ProcessIncludedEntities
        arguments:
            - '@oro_api.action_processor_bag'
            - '@oro_api.error_completer_registry'
        tags:
            - { name: oro.api.processor, action: create, group: transform_data, requestType: json_api, priority: 200 }
            - { name: oro.api.processor, action: update, group: transform_data, requestType: json_api, priority: 200 }
            - { name: oro.api.processor, action: add_subresource, group: transform_data, requestType: json_api, priority: 200 }
            - { name: oro.api.processor, action: update_subresource, group: transform_data, requestType: json_api, priority: 200 }

    oro_api.build_form_builder:
        class: Oro\Bundle\ApiBundle\Processor\Shared\BuildFormBuilder
        arguments:
            - '@oro_api.form_helper'
        tags:
            - { name: oro.api.processor, action: update, group: transform_data, priority: 100 }

    oro_api.build_form_builder.full_validation:
        class: Oro\Bundle\ApiBundle\Processor\Shared\BuildFormBuilder
        arguments:
            - '@oro_api.form_helper'
            - true
        tags:
            - { name: oro.api.processor, action: create, group: transform_data, priority: 100 }

    oro_api.build_form:
        class: Oro\Bundle\ApiBundle\Processor\Shared\BuildForm
        tags:
            - { name: oro.api.processor, action: create, group: transform_data, priority: -10 }
            - { name: oro.api.processor, action: update, group: transform_data, priority: -10 }
            - { name: oro.api.processor, action: delete_subresource, group: transform_data, priority: -10 }
            - { name: oro.api.processor, action: add_subresource, group: transform_data, priority: -10 }
            - { name: oro.api.processor, action: update_subresource, group: transform_data, priority: -10 }
            - { name: oro.api.processor, action: delete_relationship, group: transform_data, priority: -10 }
            - { name: oro.api.processor, action: add_relationship, group: transform_data, priority: -10 }
            - { name: oro.api.processor, action: update_relationship, group: transform_data, priority: -10 }

    oro_api.submit_form:
        class: Oro\Bundle\ApiBundle\Processor\Shared\SubmitForm
        tags:
            - { name: oro.api.processor, action: create, group: transform_data, priority: -50 }
            - { name: oro.api.processor, action: update, group: transform_data, priority: -50 }
            - { name: oro.api.processor, action: delete_subresource, group: transform_data, priority: -50 }
            - { name: oro.api.processor, action: add_subresource, group: transform_data, priority: -50 }
            - { name: oro.api.processor, action: update_subresource, group: transform_data, priority: -50 }
            - { name: oro.api.processor, action: delete_relationship, group: transform_data, priority: -50 }
            - { name: oro.api.processor, action: add_relationship, group: transform_data, priority: -50 }
            - { name: oro.api.processor, action: update_relationship, group: transform_data, priority: -50 }

    oro_api.validate_included_forms:
        class: Oro\Bundle\ApiBundle\Processor\Shared\ValidateIncludedForms
        arguments:
            - '@oro_api.form_validation_handler'
        tags:
            - { name: oro.api.processor, action: create, group: transform_data, priority: -70 }
            - { name: oro.api.processor, action: update, group: transform_data, priority: -70 }
            - { name: oro.api.processor, action: add_subresource, group: transform_data, priority: -70 }
            - { name: oro.api.processor, action: update_subresource, group: transform_data, priority: -70 }

    oro_api.validate_form:
        class: Oro\Bundle\ApiBundle\Processor\Shared\ValidateForm
        arguments:
            - '@oro_api.form_validation_handler'
        tags:
            - { name: oro.api.processor, action: create, group: transform_data, priority: -90 }
            - { name: oro.api.processor, action: update, group: transform_data, priority: -90 }
            - { name: oro.api.processor, action: delete_subresource, group: transform_data, priority: -90 }
            - { name: oro.api.processor, action: add_subresource, group: transform_data, priority: -90 }
            - { name: oro.api.processor, action: update_subresource, group: transform_data, priority: -90 }
            - { name: oro.api.processor, action: delete_relationship, group: transform_data, priority: -90 }
            - { name: oro.api.processor, action: add_relationship, group: transform_data, priority: -90 }
            - { name: oro.api.processor, action: update_relationship, group: transform_data, priority: -90 }

    oro_api.json_api.collect_form_errors:
        class: Oro\Bundle\ApiBundle\Processor\Shared\JsonApi\CollectFormErrors
        arguments:
            - '@oro_api.constraint_text_extractor'
            - '@oro_api.error_completer_registry'
            - '@oro_api.form_property_accessor'
        tags:
            - { name: oro.api.processor, action: create, group: transform_data, requestType: json_api, priority: -99 }
            - { name: oro.api.processor, action: update, group: transform_data, requestType: json_api, priority: -99 }

    oro_api.json_api.subresource.collect_form_errors:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\JsonApi\CollectFormErrors
        arguments:
            - '@oro_api.constraint_text_extractor'
            - '@oro_api.error_completer_registry'
            - '@oro_api.form_property_accessor'
        tags:
            - { name: oro.api.processor, action: delete_subresource, group: transform_data, requestType: json_api, priority: -99 }
            - { name: oro.api.processor, action: add_subresource, group: transform_data, requestType: json_api, priority: -99 }
            - { name: oro.api.processor, action: update_subresource, group: transform_data, requestType: json_api, priority: -99 }
            - { name: oro.api.processor, action: delete_relationship, group: transform_data, requestType: json_api, priority: -99 }
            - { name: oro.api.processor, action: add_relationship, group: transform_data, requestType: json_api, priority: -99 }
            - { name: oro.api.processor, action: update_relationship, group: transform_data, requestType: json_api, priority: -99 }

    oro_api.collect_form_errors:
        class: Oro\Bundle\ApiBundle\Processor\Shared\CollectFormErrors
        arguments:
            - '@oro_api.constraint_text_extractor'
            - '@oro_api.error_completer_registry'
            - '@oro_api.form_property_accessor'
        tags:
            - { name: oro.api.processor, action: create, group: transform_data, priority: -100 }
            - { name: oro.api.processor, action: update, group: transform_data, priority: -100 }

    oro_api.subresource.collect_form_errors:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\CollectFormErrors
        arguments:
            - '@oro_api.constraint_text_extractor'
            - '@oro_api.error_completer_registry'
            - '@oro_api.form_property_accessor'
        tags:
            - { name: oro.api.processor, action: delete_subresource, group: transform_data, priority: -100 }
            - { name: oro.api.processor, action: add_subresource, group: transform_data, priority: -100 }
            - { name: oro.api.processor, action: update_subresource, group: transform_data, priority: -100 }
            - { name: oro.api.processor, action: delete_relationship, group: transform_data, priority: -100 }
            - { name: oro.api.processor, action: add_relationship, group: transform_data, priority: -100 }
            - { name: oro.api.processor, action: update_relationship, group: transform_data, priority: -100 }

    oro_api.restore_default_form_extension:
        class: Oro\Bundle\ApiBundle\Processor\Shared\RestoreDefaultFormExtension
        arguments:
            - '@form.registry'
            - '@oro_api.form.guesser.metadata'
        tags:
            - { name: oro.api.processor, action: create, group: transform_data, priority: -250 }
            - { name: oro.api.processor, action: update, group: transform_data, priority: -250 }
            - { name: oro.api.processor, action: delete_subresource, group: transform_data, priority: -250 }
            - { name: oro.api.processor, action: add_subresource, group: transform_data, priority: -250 }
            - { name: oro.api.processor, action: update_subresource, group: transform_data, priority: -250 }
            - { name: oro.api.processor, action: delete_relationship, group: transform_data, priority: -250 }
            - { name: oro.api.processor, action: add_relationship, group: transform_data, priority: -250 }
            - { name: oro.api.processor, action: update_relationship, group: transform_data, priority: -250 }
            # add this processor to the begin of "normalize_result" group to make sure that
            # the default form extension is restored even if an error occurred
            - { name: oro.api.processor, action: create, group: normalize_result, priority: 250 }
            - { name: oro.api.processor, action: update, group: normalize_result, priority: 250 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_result, priority: 250 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_result, priority: 250 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_result, priority: 250 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_result, priority: 250 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_result, priority: 250 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, priority: 250 }

    oro_api.remove_entity_mapper:
        class: Oro\Bundle\ApiBundle\Processor\Shared\RemoveEntityMapper
        tags:
            - { name: oro.api.processor, action: create, group: save_data, priority: -250 }
            - { name: oro.api.processor, action: update, group: save_data, priority: -250 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_result, priority: -250 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_result, priority: -250 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, priority: -250 }
            # add this processor to the begin of "normalize_result" group to make sure that
            # the entity mapper is removed from the Context even if an error occurred
            - { name: oro.api.processor, action: create, group: normalize_result, priority: 250 }
            - { name: oro.api.processor, action: update, group: normalize_result, priority: 250 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_result, priority: 250 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_result, priority: 250 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, priority: 250 }

    #
    # save_data
    #

    oro_api.convert_model_to_entity:
        class: Oro\Bundle\ApiBundle\Processor\Shared\ConvertModelToEntity
        tags:
            - { name: oro.api.processor, action: create, group: save_data, priority: 150 }
            - { name: oro.api.processor, action: update, group: save_data, priority: 150 }

    oro_api.subresource.convert_parent_model_to_entity:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\ConvertParentModelToEntity
        tags:
            - { name: oro.api.processor, action: delete_relationship, group: save_data, priority: 150 }
            - { name: oro.api.processor, action: add_relationship, group: save_data, priority: 150 }
            - { name: oro.api.processor, action: update_relationship, group: save_data, priority: 150 }

    oro_api.persist_included_entities:
        class: Oro\Bundle\ApiBundle\Processor\Shared\PersistIncludedEntities
        arguments:
            - '@oro_api.doctrine_helper'
        tags:
            - { name: oro.api.processor, action: create, group: save_data, priority: 10 }
            - { name: oro.api.processor, action: update, group: save_data, priority: 10 }
            - { name: oro.api.processor, action: add_subresource, group: save_data, priority: 10 }
            - { name: oro.api.processor, action: update_subresource, group: save_data, priority: 10 }

    oro_api.subresource.save_parent_entity:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\SaveParentEntity
        arguments:
            - '@oro_api.doctrine_helper'
        tags:
            - { name: oro.api.processor, action: delete_subresource, group: save_data, priority: -10 }
            - { name: oro.api.processor, action: add_subresource, group: save_data, priority: -10 }
            - { name: oro.api.processor, action: update_subresource, group: save_data, priority: -10 }
            - { name: oro.api.processor, action: delete_relationship, group: save_data, priority: -10 }
            - { name: oro.api.processor, action: add_relationship, group: save_data, priority: -10 }
            - { name: oro.api.processor, action: update_relationship, group: save_data, priority: -10 }

    #
    # delete_data
    #

    oro_api.assert_not_has_result:
        class: Oro\Bundle\ApiBundle\Processor\Shared\AssertNotHasResult
        tags:
            - { name: oro.api.processor, action: delete, group: delete_data, priority: -200 }
            - { name: oro.api.processor, action: delete_list, group: delete_data, priority: -200 }

    #
    # normalize_data
    #

    oro_api.load_normalized_included_entities:
        class: Oro\Bundle\ApiBundle\Processor\Shared\LoadNormalizedIncludedEntities
        arguments:
            - '@oro_api.action_processor_bag'
        tags:
            - { name: oro.api.processor, action: create, group: normalize_data, priority: -50 }
            - { name: oro.api.processor, action: update, group: normalize_data, priority: -50 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_data, priority: -50 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_data, priority: -50 }

    #
    # finalize
    #

    oro_api.load_title_meta_property_for_entity:
        class: Oro\Bundle\ApiBundle\Processor\Shared\LoadTitleMetaPropertyForSingleItem
        arguments:
            - '@oro_api.entity_title_provider'
            - '@oro_api.expanded_association_extractor'
        tags:
            - { name: oro.api.processor, action: get, group: finalize, priority: -10 }
            - { name: oro.api.processor, action: get_subresource, group: finalize, collection: false, priority: -10 }

    oro_api.load_title_meta_property_for_entities:
        class: Oro\Bundle\ApiBundle\Processor\Shared\LoadTitleMetaPropertyForCollection
        arguments:
            - '@oro_api.entity_title_provider'
            - '@oro_api.expanded_association_extractor'
        tags:
            - { name: oro.api.processor, action: get_list, group: finalize, priority: -10 }
            - { name: oro.api.processor, action: get_subresource, group: finalize, collection: true, priority: -10 }

    oro_api.set_total_count_header:
        class: Oro\Bundle\ApiBundle\Processor\Shared\SetTotalCountHeader
        arguments:
            - '@oro_batch.orm.query_builder.count_query_optimizer'
            - '@oro_api.query_resolver'
        tags:
            - { name: oro.api.processor, action: get_list, group: finalize, priority: -10 }
            - { name: oro.api.processor, action: delete_list, group: delete_data, priority: -10 }
            - { name: oro.api.processor, action: get_subresource, group: finalize, collection: true, priority: -10 }
            - { name: oro.api.processor, action: get_relationship, group: finalize, collection: true, priority: -10 }

    #
    # normalize_result
    #

    oro_api.remove_total_count_header:
        class: Oro\Bundle\ApiBundle\Processor\Shared\RemoveTotalCountHeader
        tags:
            - { name: oro.api.processor, action: get_list, group: normalize_result, priority: 100 }
            - { name: oro.api.processor, action: delete_list, group: normalize_result, priority: 100 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, collection: true, priority: 100 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, collection: true, priority: 100 }

    oro_api.complete_errors:
        class: Oro\Bundle\ApiBundle\Processor\Shared\CompleteErrors
        arguments:
            - '@oro_api.error_completer_registry'
        tags:
            - { name: oro.api.processor, action: get, group: normalize_result, priority: -10 }
            - { name: oro.api.processor, action: get_list, group: normalize_result, priority: -10 }
            - { name: oro.api.processor, action: delete, group: normalize_result, priority: -10 }
            - { name: oro.api.processor, action: delete_list, group: normalize_result, priority: -10 }
            - { name: oro.api.processor, action: create, group: normalize_result, priority: -10 }
            - { name: oro.api.processor, action: update, group: normalize_result, priority: -10 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, priority: -10 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_result, priority: -10 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_result, priority: -10 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_result, priority: -10 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, priority: -10 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_result, priority: -10 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_result, priority: -10 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, priority: -10 }
            - { name: oro.api.processor, action: not_allowed, group: normalize_result, priority: -10 }
            - { name: oro.api.processor, action: options, group: normalize_result, priority: -10 }

    oro_api.normalize_errors:
        class: Oro\Bundle\ApiBundle\Processor\Shared\NormalizeErrors
        arguments:
            - '@translator'
        tags:
            - { name: oro.api.processor, action: get, group: normalize_result, priority: -20 }
            - { name: oro.api.processor, action: get_list, group: normalize_result, priority: -20 }
            - { name: oro.api.processor, action: delete, group: normalize_result, priority: -20 }
            - { name: oro.api.processor, action: delete_list, group: normalize_result, priority: -20 }
            - { name: oro.api.processor, action: create, group: normalize_result, priority: -20 }
            - { name: oro.api.processor, action: update, group: normalize_result, priority: -20 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, priority: -20 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_result, priority: -20 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_result, priority: -20 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_result, priority: -20 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, priority: -20 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_result, priority: -20 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_result, priority: -20 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, priority: -20 }
            - { name: oro.api.processor, action: not_allowed, group: normalize_result, priority: -20 }
            - { name: oro.api.processor, action: options, group: normalize_result, priority: -20 }

    oro_api.rest.set_http_response_status_code:
        class: Oro\Bundle\ApiBundle\Processor\Shared\SetHttpResponseStatusCode
        tags:
            - { name: oro.api.processor, action: get, group: normalize_result, requestType: rest, priority: -30 }
            - { name: oro.api.processor, action: get_list, group: normalize_result, requestType: rest, priority: -30 }
            - { name: oro.api.processor, action: update, group: normalize_result, requestType: rest, priority: -30 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, requestType: rest, priority: -30 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_result, requestType: rest, priority: -30 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_result, requestType: rest, priority: -30 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_result, requestType: rest, priority: -30 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, requestType: rest, priority: -30 }
            - { name: oro.api.processor, action: options, group: normalize_result, requestType: rest, priority: -30 }

    oro_api.rest.set_http_response_status_code.created:
        class: Oro\Bundle\ApiBundle\Processor\Shared\SetHttpResponseStatusCode
        arguments:
            - 201
        tags:
            - { name: oro.api.processor, action: create, group: normalize_result, requestType: rest, priority: -30 }

    oro_api.rest.set_http_response_status_code.no_content:
        class: Oro\Bundle\ApiBundle\Processor\Shared\SetHttpResponseStatusCode
        arguments:
            - 204
        tags:
            - { name: oro.api.processor, action: delete, group: normalize_result, requestType: rest, priority: -30 }
            - { name: oro.api.processor, action: delete_list, group: normalize_result, requestType: rest, priority: -30 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_result, requestType: rest, priority: -30 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_result, requestType: rest, priority: -30 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, requestType: rest, priority: -30 }

    oro_api.rest.set_http_response_status_code.not_allowed:
        class: Oro\Bundle\ApiBundle\Processor\Shared\SetHttpResponseStatusCode
        arguments:
            - 405
        tags:
            - { name: oro.api.processor, action: not_allowed, group: normalize_result, requestType: rest, priority: -30 }

    oro_api.rest.remove_response_errors:
        class: Oro\Bundle\ApiBundle\Processor\Shared\RemoveResponseErrors
        tags:
            - { name: oro.api.processor, action: get, group: normalize_result, requestType: rest, priority: -35 }
            - { name: oro.api.processor, action: get_list, group: normalize_result, requestType: rest, priority: -35 }
            - { name: oro.api.processor, action: delete, group: normalize_result, requestType: rest, priority: -35 }
            - { name: oro.api.processor, action: delete_list, group: normalize_result, requestType: rest, priority: -35 }
            - { name: oro.api.processor, action: create, group: normalize_result, requestType: rest, priority: -35 }
            - { name: oro.api.processor, action: update, group: normalize_result, requestType: rest, priority: -35 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, requestType: rest, priority: -35 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_result, requestType: rest, priority: -35 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_result, requestType: rest, priority: -35 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_result, requestType: rest, priority: -35 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, requestType: rest, priority: -35 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_result, requestType: rest, priority: -35 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_result, requestType: rest, priority: -35 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, requestType: rest, priority: -35 }
            - { name: oro.api.processor, action: options, group: normalize_result, requestType: rest, priority: -35 }

    oro_api.set_result_document_builder:
        class: Oro\Bundle\ApiBundle\Processor\Shared\SetResultDocumentBuilder
        arguments:
            - '@oro_api.document_builder_factory'
        tags:
            - { name: oro.api.processor, action: get, group: normalize_result, priority: -40 }
            - { name: oro.api.processor, action: get_list, group: normalize_result, priority: -40 }
            - { name: oro.api.processor, action: delete, group: normalize_result, priority: -40 }
            - { name: oro.api.processor, action: delete_list, group: normalize_result, priority: -40 }
            - { name: oro.api.processor, action: create, group: normalize_result, priority: -40 }
            - { name: oro.api.processor, action: update, group: normalize_result, priority: -40 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, priority: -40 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_result, priority: -40 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_result, priority: -40 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_result, priority: -40 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, priority: -40 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_result, priority: -40 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_result, priority: -40 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, priority: -40 }
            - { name: oro.api.processor, action: not_allowed, group: normalize_result, priority: -40 }
            - { name: oro.api.processor, action: options, group: normalize_result, priority: -40 }

    oro_api.rest.add_hateoas_links:
        class: Oro\Bundle\ApiBundle\Processor\Shared\Rest\AddHateoasLinks
        arguments:
            - '@oro_api.rest.routes_registry'
            - '@router'
            - '@oro_api.resources_provider'
        tags:
            - { name: oro.api.processor, action: get, group: normalize_result, requestType: rest&json_api, hateoas: true, priority: -45 }
            - { name: oro.api.processor, action: get_list, group: normalize_result, requestType: rest&json_api, hateoas: true, priority: -45 }
            - { name: oro.api.processor, action: delete, group: normalize_result, requestType: rest&json_api, hateoas: true, priority: -45 }
            - { name: oro.api.processor, action: delete_list, group: normalize_result, requestType: rest&json_api, hateoas: true, priority: -45 }
            - { name: oro.api.processor, action: create, group: normalize_result, requestType: rest&json_api, hateoas: true, priority: -45 }
            - { name: oro.api.processor, action: update, group: normalize_result, requestType: rest&json_api, hateoas: true, priority: -45 }

    oro_api.subresource.rest.add_hateoas_links:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\Rest\AddHateoasLinksForSubresource
        arguments:
            - '@oro_api.rest.routes_registry'
            - '@router'
            - '@oro_api.subresources_provider'
        tags:
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, requestType: rest&json_api, hateoas: true, priority: -45 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_result, requestType: rest&json_api, hateoas: true, priority: -45 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_result, requestType: rest&json_api, hateoas: true, priority: -45 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_result, requestType: rest&json_api, hateoas: true, priority: -45 }

    oro_api.relationship.rest.add_hateoas_links:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\Rest\AddHateoasLinksForRelationship
        arguments:
            - '@oro_api.rest.routes_registry'
            - '@router'
            - '@oro_api.subresources_provider'
        tags:
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, requestType: rest&json_api, hateoas: true, priority: -45 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_result, requestType: rest&json_api, hateoas: true, priority: -45 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_result, requestType: rest&json_api, hateoas: true, priority: -45 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, requestType: rest&json_api, hateoas: true, priority: -45 }

    oro_api.rest.add_hateoas_pagination_links:
        class: Oro\Bundle\ApiBundle\Processor\Shared\Rest\AddPaginationLinks
        arguments:
            - '@oro_api.rest.routes_registry'
            - '@oro_api.filter_names_registry'
            - '@router'
        tags:
            - { name: oro.api.processor, action: get_list, group: normalize_result, requestType: rest&json_api, hateoas: true, priority: -45 }

    oro_api.subresource.rest.add_hateoas_pagination_links:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\Rest\AddPaginationLinksForSubresource
        arguments:
            - '@oro_api.rest.routes_registry'
            - '@oro_api.filter_names_registry'
            - '@router'
        tags:
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, collection: true, requestType: rest&json_api, hateoas: true, priority: -45 }

    oro_api.relationship.rest.add_hateoas_pagination_links:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\Rest\AddPaginationLinksForRelationship
        arguments:
            - '@oro_api.rest.routes_registry'
            - '@oro_api.filter_names_registry'
            - '@router'
        tags:
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, collection: true, requestType: rest&json_api, hateoas: true, priority: -45 }

    oro_api.build_result_document.single_item:
        class: Oro\Bundle\ApiBundle\Processor\Shared\BuildSingleItemResultDocument
        arguments:
            - '@oro_api.error_completer_registry'
            - '@logger'
        tags:
            - { name: monolog.logger, channel: api }
            - { name: oro.api.processor, action: get, group: normalize_result, priority: -50 }
            - { name: oro.api.processor, action: delete, group: normalize_result, priority: -50 }
            - { name: oro.api.processor, action: create, group: normalize_result, priority: -50 }
            - { name: oro.api.processor, action: update, group: normalize_result, priority: -50 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, collection: false, priority: -50 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_result, collection: false, priority: -50 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_result, collection: false, priority: -50 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_result, collection: false, priority: -50 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, collection: false, priority: -50 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, collection: false, priority: -50 }
            - { name: oro.api.processor, action: not_allowed, group: normalize_result, actionType: item, priority: -50 }
            - { name: oro.api.processor, action: not_allowed, group: normalize_result, actionType: relationship|subresource, collection: false, priority: -50 }
            - { name: oro.api.processor, action: options, group: normalize_result, priority: -50 }

    oro_api.build_result_document.collection:
        class: Oro\Bundle\ApiBundle\Processor\Shared\BuildListResultDocument
        arguments:
            - '@oro_api.error_completer_registry'
            - '@logger'
        tags:
            - { name: monolog.logger, channel: api }
            - { name: oro.api.processor, action: get_list, group: normalize_result, priority: -50 }
            - { name: oro.api.processor, action: delete_list, group: normalize_result, priority: -50 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, collection: true, priority: -50 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_result, collection: true, priority: -50 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_result, collection: true, priority: -50 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_result, collection: true, priority: -50 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, collection: true, priority: -50 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_result, priority: -50 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_result, priority: -50 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, collection: true, priority: -50 }
            - { name: oro.api.processor, action: not_allowed, group: normalize_result, actionType: list, priority: -50 }
            - { name: oro.api.processor, action: not_allowed, group: normalize_result, actionType: relationship|subresource, collection: true, priority: -50 }

    oro_api.add_included_entities_to_result_document:
        class: Oro\Bundle\ApiBundle\Processor\Shared\AddIncludedEntitiesToResultDocument
        tags:
            - { name: oro.api.processor, action: create, group: normalize_result, priority: -100 }
            - { name: oro.api.processor, action: update, group: normalize_result, priority: -100 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_result, priority: -100 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_result, priority: -100 }

    oro_api.set_result_document:
        class: Oro\Bundle\ApiBundle\Processor\Shared\SetResultDocument
        tags:
            - { name: oro.api.processor, action: get, group: normalize_result, priority: -150 }
            - { name: oro.api.processor, action: get_list, group: normalize_result, priority: -150 }
            - { name: oro.api.processor, action: delete, group: normalize_result, priority: -150 }
            - { name: oro.api.processor, action: delete_list, group: normalize_result, priority: -150 }
            - { name: oro.api.processor, action: create, group: normalize_result, priority: -150 }
            - { name: oro.api.processor, action: update, group: normalize_result, priority: -150 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, priority: -150 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_result, priority: -150 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_result, priority: -150 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_result, priority: -150 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, priority: -150 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_result, priority: -150 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_result, priority: -150 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, priority: -150 }
            - { name: oro.api.processor, action: not_allowed, group: normalize_result, priority: -150 }
            - { name: oro.api.processor, action: options, group: normalize_result, priority: -150 }

    oro_api.assert_not_has_errors:
        class: Oro\Bundle\ApiBundle\Processor\Shared\AssertNotHasErrors
        tags:
            - { name: oro.api.processor, action: get, group: normalize_result, priority: -190 }
            - { name: oro.api.processor, action: get_list, group: normalize_result, priority: -190 }
            - { name: oro.api.processor, action: delete, group: normalize_result, priority: -190 }
            - { name: oro.api.processor, action: delete_list, group: normalize_result, priority: -190 }
            - { name: oro.api.processor, action: create, group: normalize_result, priority: -190 }
            - { name: oro.api.processor, action: update, group: normalize_result, priority: -190 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, priority: -190 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_result, priority: -190 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_result, priority: -190 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_result, priority: -190 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, priority: -190 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_result, priority: -190 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_result, priority: -190 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, priority: -190 }
            - { name: oro.api.processor, action: not_allowed, group: normalize_result, priority: -190 }
            - { name: oro.api.processor, action: options, group: normalize_result, priority: -190 }

    oro_api.assert_has_result:
        class: Oro\Bundle\ApiBundle\Processor\Shared\AssertHasResult
        tags:
            - { name: oro.api.processor, action: get, group: normalize_result, priority: -200 }
            - { name: oro.api.processor, action: get_list, group: normalize_result, priority: -200 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, priority: -200 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, priority: -200 }
            - { name: oro.api.processor, action: not_allowed, group: normalize_result, priority: -200 }

    oro_api.json_api.assert_result_schema:
        class: Oro\Bundle\ApiBundle\Processor\Shared\JsonApi\AssertResultSchema
        tags:
            - { name: oro.api.processor, action: get, group: normalize_result, requestType: json_api, priority: -210 }
            - { name: oro.api.processor, action: get_list, group: normalize_result, requestType: json_api, priority: -210 }
            - { name: oro.api.processor, action: create, group: normalize_result, requestType: json_api, priority: -210 }
            - { name: oro.api.processor, action: update, group: normalize_result, requestType: json_api, priority: -210 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, requestType: json_api, priority: -210 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_result, requestType: json_api, priority: -210 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_result, requestType: json_api, priority: -210 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_result, requestType: json_api, priority: -210 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, requestType: json_api, priority: -210 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_result, requestType: json_api, priority: -210 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_result, requestType: json_api, priority: -210 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, requestType: json_api, priority: -210 }
            - { name: oro.api.processor, action: not_allowed, group: normalize_result, requestType: json_api, priority: -210 }
            - { name: oro.api.processor, action: options, group: normalize_result, requestType: json_api, priority: -210 }

    oro_api.json_api.assert_result_data_is_array:
        class: Oro\Bundle\ApiBundle\Processor\Shared\JsonApi\AssertResultDataIsArray
        tags:
            - { name: oro.api.processor, action: get_list, group: normalize_result, requestType: json_api, priority: -215 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, collection: true, requestType: json_api, priority: -215 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, collection: true, requestType: json_api, priority: -215 }

    oro_api.rest.cors.set_allow_origin:
        class: Oro\Bundle\ApiBundle\Processor\Shared\Rest\SetCorsAllowOrigin
        arguments:
            - [] # allowedOrigins. They are set by Oro\Bundle\ApiBundle\DependencyInjection\OroApiExtension
        tags:
            - { name: oro.api.processor, action: get, group: normalize_result, requestType: rest, cors: true, priority: -235 }
            - { name: oro.api.processor, action: get_list, group: normalize_result, requestType: rest, cors: true, priority: -235 }
            - { name: oro.api.processor, action: delete, group: normalize_result, requestType: rest, cors: true, priority: -235 }
            - { name: oro.api.processor, action: delete_list, group: normalize_result, requestType: rest, cors: true, priority: -235 }
            - { name: oro.api.processor, action: create, group: normalize_result, requestType: rest, cors: true, priority: -235 }
            - { name: oro.api.processor, action: update, group: normalize_result, requestType: rest, cors: true, priority: -235 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, requestType: rest, cors: true, priority: -235 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_result, requestType: rest, cors: true, priority: -235 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_result, requestType: rest, cors: true, priority: -235 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_result, requestType: rest, cors: true, priority: -235 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, requestType: rest, cors: true, priority: -235 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_result, requestType: rest, cors: true, priority: -235 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_result, requestType: rest, cors: true, priority: -235 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, requestType: rest, cors: true, priority: -235 }
            - { name: oro.api.processor, action: options, group: normalize_result, requestType: rest, cors: true, priority: -235 }

    oro_api.rest.cors.set_allow_and_expose_headers:
        class: Oro\Bundle\ApiBundle\Processor\Shared\Rest\SetCorsAllowAndExposeHeaders
        arguments:
            - [] # allowedHeaders. They are set by Oro\Bundle\ApiBundle\DependencyInjection\OroApiExtension
            - [] # exposableHeaders. They are set by Oro\Bundle\ApiBundle\DependencyInjection\OroApiExtension
            - false # isCredentialsAllowed. It is set by Oro\Bundle\ApiBundle\DependencyInjection\OroApiExtension
        tags:
            - { name: oro.api.processor, action: get, group: normalize_result, requestType: rest, cors: true, priority: -240 }
            - { name: oro.api.processor, action: get_list, group: normalize_result, requestType: rest, cors: true, priority: -240 }
            - { name: oro.api.processor, action: delete, group: normalize_result, requestType: rest, cors: true, priority: -240 }
            - { name: oro.api.processor, action: delete_list, group: normalize_result, requestType: rest, cors: true, priority: -240 }
            - { name: oro.api.processor, action: create, group: normalize_result, requestType: rest, cors: true, priority: -240 }
            - { name: oro.api.processor, action: update, group: normalize_result, requestType: rest, cors: true, priority: -240 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, requestType: rest, cors: true, priority: -240 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_result, requestType: rest, cors: true, priority: -240 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_result, requestType: rest, cors: true, priority: -240 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_result, requestType: rest, cors: true, priority: -240 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, requestType: rest, cors: true, priority: -240 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_result, requestType: rest, cors: true, priority: -240 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_result, requestType: rest, cors: true, priority: -240 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, requestType: rest, cors: true, priority: -240 }
            - { name: oro.api.processor, action: options, group: normalize_result, requestType: rest, cors: true, priority: -240 }

    oro_api.rest.set_http_allow_header.single_item:
        class: Oro\Bundle\ApiBundle\Processor\Shared\SetHttpAllowHeaderForSingleItem
        arguments:
            - '@oro_api.resources_provider'
        tags:
            - { name: oro.api.processor, action: get, group: normalize_result, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: delete, group: normalize_result, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: update, group: normalize_result, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: not_allowed, group: normalize_result, actionType: item, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: options, group: normalize_result, actionType: item, requestType: rest, priority: -250 }

    oro_api.rest.set_http_allow_header.collection:
        class: Oro\Bundle\ApiBundle\Processor\Shared\SetHttpAllowHeaderForList
        arguments:
            - '@oro_api.resources_provider'
        tags:
            - { name: oro.api.processor, action: get_list, group: normalize_result, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: delete_list, group: normalize_result, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: create, group: normalize_result, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: not_allowed, group: normalize_result, actionType: list, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: options, group: normalize_result, actionType: list, requestType: rest, priority: -250 }

    oro_api.subresource.rest.set_http_allow_header:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\SetHttpAllowHeaderForSubresource
        arguments:
            - '@oro_api.resources_provider'
            - '@oro_api.subresources_provider'
        tags:
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_result, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_result, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_result, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: not_allowed, group: normalize_result, actionType: subresource, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: options, group: normalize_result, actionType: subresource, requestType: rest, priority: -250 }

    oro_api.relationship.rest.set_http_allow_header:
        class: Oro\Bundle\ApiBundle\Processor\Subresource\Shared\SetHttpAllowHeaderForRelationship
        arguments:
            - '@oro_api.resources_provider'
            - '@oro_api.subresources_provider'
        tags:
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_result, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_result, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: not_allowed, group: normalize_result, actionType: relationship, requestType: rest, priority: -250 }
            - { name: oro.api.processor, action: options, group: normalize_result, actionType: relationship, requestType: rest, priority: -250 }

    oro_api.json_api.set_response_content_type:
        class: Oro\Bundle\ApiBundle\Processor\Shared\JsonApi\SetResponseContentType
        tags:
            - { name: oro.api.processor, action: get, group: normalize_result, requestType: json_api, priority: -250 }
            - { name: oro.api.processor, action: get_list, group: normalize_result, requestType: json_api, priority: -250 }
            - { name: oro.api.processor, action: delete, group: normalize_result, requestType: json_api, priority: -250 }
            - { name: oro.api.processor, action: delete_list, group: normalize_result, requestType: json_api, priority: -250 }
            - { name: oro.api.processor, action: create, group: normalize_result, requestType: json_api, priority: -250 }
            - { name: oro.api.processor, action: update, group: normalize_result, requestType: json_api, priority: -250 }
            - { name: oro.api.processor, action: get_subresource, group: normalize_result, requestType: json_api, priority: -250 }
            - { name: oro.api.processor, action: delete_subresource, group: normalize_result, requestType: json_api, priority: -250 }
            - { name: oro.api.processor, action: add_subresource, group: normalize_result, requestType: json_api, priority: -250 }
            - { name: oro.api.processor, action: update_subresource, group: normalize_result, requestType: json_api, priority: -250 }
            - { name: oro.api.processor, action: get_relationship, group: normalize_result, requestType: json_api, priority: -250 }
            - { name: oro.api.processor, action: delete_relationship, group: normalize_result, requestType: json_api, priority: -250 }
            - { name: oro.api.processor, action: add_relationship, group: normalize_result, requestType: json_api, priority: -250 }
            - { name: oro.api.processor, action: update_relationship, group: normalize_result, requestType: json_api, priority: -250 }
            - { name: oro.api.processor, action: not_allowed, group: normalize_result, requestType: json_api, priority: -250 }
            - { name: oro.api.processor, action: options, group: normalize_result, requestType: json_api, priority: -250 }
